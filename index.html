<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Tower Defense PWA</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <canvas id="gameCanvas"></canvas>
        <div id="ui-overlay">
            <div id="loading-screen" class="screen active">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>
            
            <div id="main-menu" class="screen">
                <div class="menu-content">
                    <div class="logo-section">
                        <div class="logo">Tower Defense</div>
                        <div class="start-hint">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É</div>
                    </div>
                    <div class="faction-selection" style="display: none;">
                        <div class="faction-image">
                            <div class="faction-side light-side" data-faction="light">
                                <div class="faction-label">–°–≤–µ—Ç</div>
                                <div class="faction-lore" style="display: none;">
                                    <p>–°–∏–ª—ã —Å–≤–µ—Ç–∞ –∑–∞—â–∏—â–∞—é—Ç –º–∏—Ä –æ—Ç —Ç—å–º—ã. –≠–ª—å—Ñ—ã –∏ –∏—Ö —Å–æ—é–∑–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∞–≥–∏—é –ø—Ä–∏—Ä–æ–¥—ã –∏ –¥—Ä–µ–≤–Ω–∏–µ –∑–Ω–∞–Ω–∏—è.</p>
                                </div>
                            </div>
                            <div class="faction-side dark-side" data-faction="dark">
                                <div class="faction-label">–¢—å–º–∞</div>
                                <div class="faction-lore" style="display: none;">
                                    <p>–°–∏–ª—ã —Ç—å–º—ã —Å—Ç—Ä–µ–º—è—Ç—Å—è –ø–æ–≥–ª–æ—Ç–∏—Ç—å –º–∏—Ä. –í–∞–º–ø–∏—Ä—ã –∏ –∏—Ö –ø—Ä–∏—Å–ø–µ—à–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ–º–Ω—É—é –º–∞–≥–∏—é –∏ –Ω–µ–∫—Ä–æ–º–∞–Ω—Ç–∏—é.</p>
                                </div>
                            </div>
                        </div>
                        <div class="confirm-button" style="display: none;">
                            <button id="confirm-faction">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="map-screen" class="screen">
                <div class="map-ui">
                    <button id="settings-btn" class="settings-button">‚öôÔ∏è</button>
                    <div class="map-info">
                        <div class="faction-indicator"></div>
                        <div class="map-title">–ö–∞—Ä—Ç–∞ –º–∏—Ä–∞</div>
                    </div>
                </div>
            </div>
            
            <div id="level-screen" class="screen">
                <div class="level-ui">
                    <div class="level-info">
                        <div class="level-title">–£—Ä–æ–≤–µ–Ω—å 1</div>
                        <div class="hero-info">
                            <div class="hero-health">‚ù§Ô∏è 100/100</div>
                            <div class="hero-mana">üíô 100</div>
                            <div class="hero-level">‚≠ê 1</div>
                        </div>
                        <div class="wave-info">
                            <div class="wave-title">–í–æ–ª–Ω–∞: 0/3</div>
                            <button id="start-wave-btn" class="start-wave-btn">–ù–∞—á–∞—Ç—å –≤–æ–ª–Ω—É</button>
                        </div>
                    </div>
                    <div class="level-controls">
                        <button id="pause-btn">‚è∏Ô∏è</button>
                        <button id="speed-btn">‚ö°</button>
                        <button id="settings-btn-level">‚öôÔ∏è</button>
                        <button id="back-to-map-btn">üó∫Ô∏è</button>
                    </div>
                </div>
                
                <!-- –ü–∞–Ω–µ–ª—å –±–∞—à–µ–Ω -->
                <div class="tower-panel" id="tower-panel">
                    <div class="tower-panel-header">
                        <h3>–ë–∞—à–Ω–∏</h3>
                        <button id="close-tower-panel">‚úï</button>
                    </div>
                    <div class="tower-list">
                        <div class="tower-item" data-tower="archer_tower">
                            <div class="tower-icon">üèπ</div>
                            <div class="tower-info">
                                <div class="tower-name">–ë–∞—à–Ω—è –ª—É—á–Ω–∏–∫–æ–≤</div>
                                <div class="tower-cost">üí∞ 50</div>
                            </div>
                        </div>
                        <div class="tower-item" data-tower="cannon_tower">
                            <div class="tower-icon">üí£</div>
                            <div class="tower-info">
                                <div class="tower-name">–ü—É—à–∫–∞</div>
                                <div class="tower-cost">üí∞ 100</div>
                            </div>
                        </div>
                        <div class="tower-item" data-tower="magic_tower">
                            <div class="tower-icon">üîÆ</div>
                            <div class="tower-info">
                                <div class="tower-name">–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∞—à–Ω—è</div>
                                <div class="tower-cost">üí∞ 150</div>
                            </div>
                        </div>
                        <div class="tower-item" data-tower="wall">
                            <div class="tower-icon">üß±</div>
                            <div class="tower-info">
                                <div class="tower-name">–°—Ç–µ–Ω–∞</div>
                                <div class="tower-cost">üí∞ 25</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
                <div class="info-panel">
                    <div class="economy-info">
                        <div class="coins">üí∞ <span id="coins-display">100</span></div>
                        <div class="experience">‚≠ê <span id="exp-display">0</span></div>
                    </div>
                    <div class="enemy-count">
                        <div class="enemy-icon">üëπ</div>
                        <div class="enemy-count-text">–í—Ä–∞–≥–æ–≤: <span id="enemy-count">0</span></div>
                    </div>
                </div>
            </div>
            
            <div id="settings-screen" class="screen">
                <div class="settings-content">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <button id="back-to-menu">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/screen-manager.js"></script>
    <script src="js/game-loader.js"></script>
    <script src="js/systems/wave-manager.js"></script>
    <script src="js/systems/economy-manager.js"></script>
    <script src="js/systems/tower-manager.js"></script>
    <script src="js/screens/loading-screen.js"></script>
    <script src="js/screens/main-menu.js"></script>
    <script src="js/screens/map-screen.js"></script>
    <script src="js/screens/level-screen.js"></script>
    <script src="js/screens/settings-screen.js"></script>
    <script src="js/main.js"></script>
</body>
</html>